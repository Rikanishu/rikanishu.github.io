define("hbs!templates/BooksList/content",["hbs","hbs/handlebars"],function(e,t){var n=t.template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),'<div class="content-container container">\n    <div class="bottom-books">\n        <div class="layout left-block col-md-9">\n            <div class="central-carousel-region">\n            </div>\n            <div class="books-container-region">\n            </div>\n        </div>\n        <div class="layout right-block filters filters-region col-md-3">\n        </div>\n   </div>\n</div>'});return n}),define("modules/BooksList/Layout/Books",["marionette","hbs!templates/BooksList/content"],function(e,t){var n=e.Layout.extend({template:t,regions:{centralCarouselRegion:".central-carousel-region",listRegion:".books-container-region",sideBlockRegion:".filters-region",bookInfoRegion:".left-block"}});return n}),define("modules/BooksList/Model/Book",["backbone"],function(e){var t=e.Model.extend({});return t}),define("modules/BooksList/Model/BooksCollection",["backbone","modules/BooksList/Model/Book"],function(e,t){var n=e.Collection.extend({model:t,filterBooks:function(e,t){this.reset(filteredData)}});return n}),define("hbs!templates/BooksList/book",["hbs","hbs/handlebars"],function(e,t){var n=t.template(function(e,t,n,r,i){function c(e,t){var r="",i;return r+='\n            <div class="description">\n               ',(i=n.description)?i=i.call(e,{hash:{}}):(i=e&&e.description,i=typeof i===a?i.call(e,{hash:{}}):i),r+=f(i)+"\n            </div>\n        ",r}function h(e,t){return'\n                <button class="btn btn-danger action-add-to-shopcart"><span class="glyphicon glyphicon-shopping-cart"></span> Add to shopcart</button>\n            '}function p(e,t){return'\n                <button class="btn btn-danger disabled"><span class="glyphicon glyphicon-ok-sign icon"></span> In shopcart</button>\n            '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers);var s="",o,u,a="function",f=this.escapeExpression,l=this;s+='<div class="book clearfix">\n    <div class="line cover text-center col-md-2">\n        <a href="#bookinfo/',(o=n.bookId)?o=o.call(t,{hash:{}}):(o=t&&t.bookId,o=typeof o===a?o.call(t,{hash:{}}):o),s+=f(o)+'">\n            <img src="'+f((o=(o=t&&t.cover,o==null||o===!1?o:o.preview),typeof o===a?o.apply(t):o))+'" class="img-responsive img-thumbnail" />\n        </a>\n    </div>\n    <div class="line info col-md-7">\n        <div class="author"><a class="inherit" href="#author/',(u=n.authorId)?u=u.call(t,{hash:{}}):(u=t&&t.authorId,u=typeof u===a?u.call(t,{hash:{}}):u),s+=f(u)+'">',(u=n.authorTitle)?u=u.call(t,{hash:{}}):(u=t&&t.authorTitle,u=typeof u===a?u.call(t,{hash:{}}):u),s+=f(u)+'</a></div>\n        <div class="title"><a class="inherit" href="#bookinfo/',(u=n.bookId)?u=u.call(t,{hash:{}}):(u=t&&t.bookId,u=typeof u===a?u.call(t,{hash:{}}):u),s+=f(u)+'">',(u=n.bookTitle)?u=u.call(t,{hash:{}}):(u=t&&t.bookTitle,u=typeof u===a?u.call(t,{hash:{}}):u),s+=f(u)+'</a></div>\n        <div class="publish-year">',(u=n.publishYear)?u=u.call(t,{hash:{}}):(u=t&&t.publishYear,u=typeof u===a?u.call(t,{hash:{}}):u),s+=f(u)+"</div>\n        ",u=n["if"].call(t,t&&t.description,{hash:{},inverse:l.noop,fn:l.program(1,c,i)});if(u||u===0)s+=u;s+='\n    </div>\n    <div class="line price col-md-3">\n        <div class="price-value">',(u=n.price)?u=u.call(t,{hash:{}}):(u=t&&t.price,u=typeof u===a?u.call(t,{hash:{}}):u),s+=f(u)+'</div>\n        <div class="actions">\n            ',u=n.unless.call(t,t&&t.isInShopcart,{hash:{},inverse:l.program(5,p,i),fn:l.program(3,h,i)});if(u||u===0)s+=u;return s+='\n            <a href="#" class="btn action-open-book-info btn-link"><span class="glyphicon glyphicon-info-sign"></span>Open book info</a>\n            <a href="#" class="btn action-add-to-wish-list btn-link"><span class="glyphicon glyphicon glyphicon-heart"></span>Add to wish list</a>\n        </div>\n    </div>\n</div>',s});return n}),define("modules/vent",["backbone","marionette"],function(e,t){return new e.Wreqr.EventAggregator}),define("modules/BooksList/View/BookItemView",["marionette","hbs!templates/BooksList/book","modules/vent"],function(e,t,n){var r=e.ItemView.extend({template:t,events:{"click .action-add-to-shopcart":"onAddToShopcart","click .action-open-book-info":"onOpenBookInfo","click .action-add-to-wish-list":"onAddToWishList"},modelEvents:{change:"onChangeModel"},onChangeModel:function(){this.render()},onOpenBookInfo:function(e){e.preventDefault();var t=this.model.get("bookId");this.trigger("openBookInfo",this.model.get("bookId"))},onAddToWishList:function(e){e.preventDefault()},onAddToShopcart:function(e){e.preventDefault(),this.trigger("addToShopcart",this.model.get("bookId"),this.model.toJSON()),this.model.set("isInShopcart",!0)}});return r}),define("hbs!templates/Common/loading",["hbs","hbs/handlebars"],function(e,t){var n=t.template(function(e,t,n,r,i){function l(e,t){var r="",i;return r+="\n    <h4>",(i=n.title)?i=i.call(e,{hash:{}}):(i=e&&e.title,i=typeof i===u?i.call(e,{hash:{}}):i),r+=a(i)+"</h4>\n",r}function c(e,t){var r="",i;return r+="\n    <p>",(i=n.message)?i=i.call(e,{hash:{}}):(i=e&&e.message,i=typeof i===u?i.call(e,{hash:{}}):i),r+=a(i)+"</p>\n",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers);var s="",o,u="function",a=this.escapeExpression,f=this;o=n["if"].call(t,t&&t.title,{hash:{},inverse:f.noop,fn:f.program(1,l,i)});if(o||o===0)s+=o;s+="\n",o=n["if"].call(t,t&&t.message,{hash:{},inverse:f.noop,fn:f.program(3,c,i)});if(o||o===0)s+=o;return s+='\n<div class="spinner">\n    <img src="static/img/common/spinner.gif"/>\n</div>\n',s});return n}),define("modules/Common/View/Loading",["marionette","spin","hbs!templates/Common/loading"],function(e,t,n){var r=e.ItemView.extend({template:n,tagName:"div",className:"spinner-container",serializeData:function(){return{title:this.options.title,message:this.options.message}},onShow:function(){}});return r}),define("hbs!templates/BooksList/books",["hbs","hbs/handlebars"],function(e,t){var n=t.template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),'<div class="books-title"><h2>Books</h2></div>\n<div class="books-list"></div>\n<div class="loader"></div>\n<div class="pagination"></div>'});return n}),define("modules/BooksList/View/BooksCollectionView",["marionette","modules/BooksList/View/BookItemView","modules/Common/View/Loading","hbs!templates/BooksList/books"],function(e,t,n,r){var i=e.CompositeView.extend({itemView:t,itemViewContainer:".books-list",template:r,_isAlreadyLoadingItems:!1,_isFinishReached:!1,onItemviewOpenBookInfo:function(e,t){this.trigger("openBookInfo",t,e)},onItemviewAddToWishList:function(e){this.trigger("addToWishList",e)},onItemviewAddToShopcart:function(e,t,n){this.trigger("addToShopcart",t,n)},onShow:function(){var e=this,t=600;if(this.options.window){var r=$(this.options.window),i=this.$(".loader"),s=new n({message:"Check more books..."});s.render(),i.append(s.$el),i.hide();var o=function(){if(!e._isAlreadyLoadingItems&&!this._isFinishReached){var n=e.$el.height()+e.$el.offset().top-t,s=r.scrollTop()+r.height();s>n&&_.isFunction(e.options.loadMore)&&(i.show(),e._isAlreadyLoadingItems=!0,e.options.loadMore(function(t){i.hide(),e._isAlreadyLoadingItems=!1,!t||!_.size(t)?e.onFinishReached():_.each(t,function(t){e.collection.add(t)})},function(){i.hide(),e.onFinishReached(),e._isAlreadyLoadingItems=!1,e._isFinishReached=!0},this))}};r.on("scroll.load-"+this.cid,o);if(this.options.document){var u=$(this.options.document);r.height()<u.height()&&o()}}},onClose:function(){this.options.document&&$(this.options.document).off("scroll.load-"+this.cid)},onFinishReached:function(){},addLoadingSpinner:function(){},removeLoadingSpinner:function(){}});return i}),define("hbs!templates/BooksList/filter",["hbs","hbs/handlebars"],function(e,t){var n=t.template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers);var s="",o,u="function",a=this.escapeExpression;return s+='<form class="form-inline search-form" role="search">\n    <div class="custom-form-legend">Search</div>\n    <div class="row">\n        <div class="col-md-8 field-col">\n            <input type="text" id="searchGlobalText" class="form-control" value="',(o=n.globalSearch)?o=o.call(t,{hash:{}}):(o=t&&t.globalSearch,o=typeof o===u?o.call(t,{hash:{}}):o),s+=a(o)+'" placeholder="Search"/>\n        </div>\n        <div class="col-md-4 field-col">\n            <button type="submit" id="searchGlobalButton" class="btn btn-default"><span class="glyphicon glyphicon-search"></span> Search</button>\n        </div>\n    </div>\n</form>\n<form id="filterForm">\n    <div class="custom-form-legend">Filter</div>\n    <div class="form-group">\n        <label for="authorFilter">Author name</label>\n        <input type="text" name="authorName" class="form-control" id="authorFilter" value="',(o=n.author)?o=o.call(t,{hash:{}}):(o=t&&t.author,o=typeof o===u?o.call(t,{hash:{}}):o),s+=a(o)+'" placeholder="Enter author name">\n    </div>\n    <div class="form-group">\n        <label for="bookTitleFilter">Book title</label>\n        <input type="text" name="bookTitle" class="form-control" id="bookTitleFilter" value="',(o=n.bookTitle)?o=o.call(t,{hash:{}}):(o=t&&t.bookTitle,o=typeof o===u?o.call(t,{hash:{}}):o),s+=a(o)+'" placeholder="Enter book title">\n    </div>\n    <div class="form-group">\n        <label for="publishYearFilter">Publish year</label>\n        <p>Also working with date ranges, <br/><small>e.g: 1972-2006</small></p>\n        <input type="text" name="publishYear" class="form-control" id="publishYearFilter" value="',(o=n.publishYear)?o=o.call(t,{hash:{}}):(o=t&&t.publishYear,o=typeof o===u?o.call(t,{hash:{}}):o),s+=a(o)+'" placeholder="Enter publish year">\n    </div>\n    <button type="submit" id="submitFilterAction" class="btn btn-info">Filter books</button>\n    <button type="submit" id="clearFilterAction" class="btn btn-default"> Clear filters</button>\n</form>',s});return n}),define("modules/BooksList/View/Filter",["marionette","hbs!templates/BooksList/filter","modules/vent"],function(e,t,n){var r=e.ItemView.extend({template:t,ui:{filterForm:"#filterForm",authorFilter:"#authorFilter",bookTitleFilter:"#bookTitleFilter",publishYearFilter:"#publishYearFilter",searchGlobalText:"#searchGlobalText"},events:{"click #submitFilterAction":"onFilterSubmit","click #clearFilterAction":"onResetFilters","click #searchGlobalButton":"onSearchClick"},onFilterSubmit:function(e){e.preventDefault(),this.onFilterListStart();var t={author:this.ui.authorFilter.val(),bookTitle:this.ui.bookTitleFilter.val(),publishYear:this.ui.publishYearFilter.val()},n={};_.each(t,function(e,t){e!==""&&(n[t]=e)}),this.trigger("submitFilters",n,this)},onResetFilters:function(e){e.preventDefault(),this.ui.filterForm.get(0).reset(),this.trigger("resetFilters",this)},onSearchClick:function(e){e.preventDefault();var t=this.ui.searchGlobalText.val();this.trigger("globalSearch",t,this)},onFilterListComlete:function(){},onFilterListStart:function(){}});return r}),define("hbs!templates/BooksList/bookinfo",["hbs","hbs/handlebars"],function(e,t){var n=t.template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers);var s="",o,u="function",a=this.escapeExpression;return s+='<div class="book-full-info container">\n    <div class="nav-actions">\n        <a href="#" class="btn action-back btn-link"><span class="glyphicon glyphicon-arrow-left"></span>Back to books list</a>\n    </div>\n    <div class="titles clearfix">\n        <div class="line cover text-center col-md-4 cover-region">\n\n        </div>\n        <div class="line info col-md-8">\n            <div class="description-region">\n\n            </div>\n            <div class="additional-blocks">\n                <div class="more-from-author">\n                    <h5>More from ',(o=n.authorTitle)?o=o.call(t,{hash:{}}):(o=t&&t.authorTitle,o=typeof o===u?o.call(t,{hash:{}}):o),s+=a(o)+'</h5>\n                    <div class="more-from-author-region">\n\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="book-total clearfix">\n\n    </div>\n\n</div>',s});return n}),define("hbs!templates/BooksList/bookinfo/cover",["hbs","hbs/handlebars"],function(e,t){var n=t.template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers);var s="",o,u="function",a=this.escapeExpression;return s+='<img src="'+a((o=(o=t&&t.cover,o==null||o===!1?o:o.fullsize),typeof o===u?o.apply(t):o))+'" class="img-responsive img-thumbnail" />\n<div class="book-action cover-actions">\n    <a href="#" class="btn btn-link"><span class="glyphicon glyphicon-thumbs-up"></span>Recommend</a>\n    <a href="#" class="btn btn-link"><span class="glyphicon glyphicon glyphicon-heart"></span>Add to wish list</a>\n</div>',s});return n}),define("hbs!templates/BooksList/bookinfo/description",["hbs","hbs/handlebars"],function(e,t){var n=t.template(function(e,t,n,r,i){function l(e,t){var r="",i;return r+='\n    <div class="description">\n        ',(i=n.description)?i=i.call(e,{hash:{}}):(i=e&&e.description,i=typeof i===u?i.call(e,{hash:{}}):i),r+=a(i)+"\n    </div>\n",r}function c(e,t){return'\n            <button class="btn btn-danger action-add-to-shopcart"><span class="glyphicon glyphicon-shopping-cart"></span> Add to shopcart</button>\n        '}function h(e,t){return'\n            <button class="btn btn-danger disabled"><span class="glyphicon glyphicon-ok-sign icon"></span> In shopcart</button>\n        '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers);var s="",o,u="function",a=this.escapeExpression,f=this;s+='<div class="author desc-field"><a class="inherit" href="#author/',(o=n.authorId)?o=o.call(t,{hash:{}}):(o=t&&t.authorId,o=typeof o===u?o.call(t,{hash:{}}):o),s+=a(o)+'">',(o=n.authorTitle)?o=o.call(t,{hash:{}}):(o=t&&t.authorTitle,o=typeof o===u?o.call(t,{hash:{}}):o),s+=a(o)+'</a></div>\n<div class="title desc-field">',(o=n.bookTitle)?o=o.call(t,{hash:{}}):(o=t&&t.bookTitle,o=typeof o===u?o.call(t,{hash:{}}):o),s+=a(o)+'</div>\n<div class="publish-year desc-field">',(o=n.publishYear)?o=o.call(t,{hash:{}}):(o=t&&t.publishYear,o=typeof o===u?o.call(t,{hash:{}}):o),s+=a(o)+"</div>\n",o=n["if"].call(t,t&&t.description,{hash:{},inverse:f.noop,fn:f.program(1,l,i)});if(o||o===0)s+=o;s+='\n<div class="book-tickets clearfix">\n    <div class="col-md-6 col-md-offset-6 price-info input-append text-right">\n        <div class="price">',(o=n.price)?o=o.call(t,{hash:{}}):(o=t&&t.price,o=typeof o===u?o.call(t,{hash:{}}):o),s+=a(o)+"</div>\n        ",o=n.unless.call(t,t&&t.isInShopcart,{hash:{},inverse:f.program(5,h,i),fn:f.program(3,c,i)});if(o||o===0)s+=o;return s+="\n    </div>\n</div>",s});return n}),define("modules/BooksList/View/BookInfoView",["marionette","hbs!templates/BooksList/bookinfo","hbs!templates/BooksList/bookinfo/cover","hbs!templates/BooksList/bookinfo/description"],function(e,t,n,r){var i=function(e,t){if(e.observableAttributes){var n=t.changedAttributes(),r=e.observableAttributes;if(_.size(n)){var i,s;if(r.only)i=r.only,s=!0;else{if(!r.except)return!0;i=r.except,s=!1}for(var o=0,u=i.length;o<u;++o)if(i[o]in n)return s;return!s}}return!0},s=e.ItemView.extend({template:n,observableAttributes:{only:["cover"]}}),o=e.ItemView.extend({template:r,observableAttributes:{except:["cover"]}}),u=e.Layout.extend({template:t,events:{"click .action-back":"onBookInfoBack","click .action-add-to-shopcart":"onAddToShopcart"},regions:{moreFromAuthorRegion:".more-from-author-region",bookCoverRegion:".cover-region",descriptionRegion:".description-region"},modelEvents:{change:"onChangeModel"},onShow:function(){this.bookCoverRegion.show(new s({model:this.model})),this.descriptionRegion.show(new o({model:this.model}))},onBookInfoBack:function(e){e.preventDefault(),this.trigger("navBack")},onAddToShopcart:function(e){e.preventDefault(),this.trigger("addToShopcart",this.model.get("bookId"),this.model.toJSON()),this.model.set("isInShopcart",!0)},onChangeModel:function(){var e=this,t=[this.bookCoverRegion,this.descriptionRegion];_.each(t,function(t){if(t.currentView){var n=t.currentView;i(n,e.model)&&n.render()}})}});return u}),define("hbs!templates/UserProfile/covers/item",["hbs","hbs/handlebars"],function(e,t){var n=t.template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers);var s="",o,u,a="function",f=this.escapeExpression;return s+='<div class="order-item">\n    <div class="inner">\n        <div class="cover">\n            <a href="#bookinfo/',(o=n.bookId)?o=o.call(t,{hash:{}}):(o=t&&t.bookId,o=typeof o===a?o.call(t,{hash:{}}):o),s+=f(o)+'">\n                <img src="'+f((o=(o=t&&t.cover,o==null||o===!1?o:o.preview),typeof o===a?o.apply(t):o))+'" class="img-responsive img-thumbnail" />\n            </a>\n        </div>\n        <div class="description">\n            <div class="author"><a href="#author/',(u=n.authorId)?u=u.call(t,{hash:{}}):(u=t&&t.authorId,u=typeof u===a?u.call(t,{hash:{}}):u),s+=f(u)+'">',(u=n.authorTitle)?u=u.call(t,{hash:{}}):(u=t&&t.authorTitle,u=typeof u===a?u.call(t,{hash:{}}):u),s+=f(u)+'</a></div>\n            <div class="title"><a href="#bookinfo/',(u=n.bookId)?u=u.call(t,{hash:{}}):(u=t&&t.bookId,u=typeof u===a?u.call(t,{hash:{}}):u),s+=f(u)+'">',(u=n.bookTitle)?u=u.call(t,{hash:{}}):(u=t&&t.bookTitle,u=typeof u===a?u.call(t,{hash:{}}):u),s+=f(u)+'</a></div>\n        </div>\n    </div>\n    <div class="rating"><i class="star ',(u=n.ratingClasses)?u=u.call(t,{hash:{}}):(u=t&&t.ratingClasses,u=typeof u===a?u.call(t,{hash:{}}):u),s+=f(u)+'"></i></div>\n</div>',s});return n}),define("modules/UserProfile/View/Covers/Item",["marionette","hbs!templates/UserProfile/covers/item"],function(e,t){var n=e.ItemView.extend({template:t,templateHelpers:function(e){return{ratingClasses:this._getRatingClasses(e)}},_ratingOptions:{ratingLimit:5},_getRatingClasses:function(e){var t=[],n=this.model.get("userRating");if(n){var r=parseFloat(n);if(r||r>0||r<=this._ratingOptions.ratingLimit){var i=Math.floor(r);i>0&&t.push("star-"+i);var s=r-i;return s>0&&(s<.33?t.push("star-qtr"):s>.66?t.push("star-3qtr"):t.push("star-half")),t.join(" ")}}return""}});return n}),define("hbs!templates/UserProfile/covers/widget",["hbs","hbs/handlebars"],function(e,t){var n=t.template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),'<div class="order-block clearfix">\n    <div class="order-items clearfix">\n        <div class="inner-container clearfix">\n            <div class="items-nav back">\n                <span class="chevron glyphicon glyphicon-chevron-left"></span>\n            </div>\n            <div class="items">\n            </div>\n            <div class="items-nav forward">\n                <span class="chevron glyphicon glyphicon-chevron-right"></span>\n            </div>\n        </div>\n    </div>\n</div>'});return n}),define("modules/UserProfile/View/Covers/Widget",["marionette","backbone","modules/UserProfile/View/Covers/Item","hbs!templates/UserProfile/covers/widget"],function(e,t,n,r){var i=e.CompositeView.extend({itemView:n,itemViewContainer:".order-items .items",template:r,options:{itemsCount:6},events:{"click .back":"onBackClick","click .forward":"onForwardClick"},ui:{backButton:".back",forwardButton:".forward",itemsContainer:".items"},_currentActiveIndex:0,onBackClick:function(){this._currentActiveIndex>0&&(--this._currentActiveIndex,this.showActiveItems())},onForwardClick:function(){this._currentActiveIndex<this.children.length-1&&(++this._currentActiveIndex,this.showActiveItems())},showActiveItems:function(){var e=this.options.itemsCount,t=this._currentActiveIndex,n=t+e;this.children.each(function(e,r){r>=t&&r<n?e.$el.show():e.$el.hide()})},onShow:function(){this.showActiveItems(),this.checkSinglePage()},checkSinglePage:function(){this.collection.length<=this.options.itemsCount?(this.ui.backButton.hide(),this.ui.forwardButton.hide(),this.ui.itemsContainer.addClass("single-page")):(this.ui.backButton.show(),this.ui.forwardButton.show(),this.ui.itemsContainer.removeClass("single-page"))}});return i}),define("hbs!templates/BooksList/more_from_author/empty",["hbs","hbs/handlebars"],function(e,t){var n=t.template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),'<div class="no-more">\n    No more books in our library :(\n</div>'});return n}),define("modules/BooksList/View/MoreFromAuthorViews",["marionette","modules/UserProfile/View/Covers/Widget","hbs!templates/BooksList/more_from_author/empty"],function(e,t,n){var r=e.ItemView.extend({template:n});return{View:t,EmptyView:r}}),define("hbs!templates/BooksList/carousel",["hbs","hbs/handlebars"],function(e,t){var n=t.template(function(e,t,n,r,i){function c(e,t){var r="",i,s,o;r+='\n            <li data-target="#carousel-central-block" data-slide-to="'+a((i=(i=t,i==null||i===!1?i:i.index),typeof i===u?i.apply(e):i))+'" ',o={hash:{},inverse:f.noop,fn:f.program(2,h,t),data:t},s=(i=n.is||e&&e.is,i?i.call(e,(i=t,i==null||i===!1?i:i.index),0,o):l.call(e,"is",(i=t,i==null||i===!1?i:i.index),0,o));if(s||s===0)r+=s;return r+="></li>\n        ",r}function h(e,t){return' class="active" '}function p(e,t){var r="",i,s,o;r+='\n\n            <a href="#bookinfo/',(i=n.bookId)?i=i.call(e,{hash:{},data:t}):(i=e&&e.bookId,i=typeof i===u?i.call(e,{hash:{},data:t}):i),r+=a(i)+'" class="item  ',o={hash:{},inverse:f.noop,fn:f.program(5,d,t),data:t},s=(i=n.is||e&&e.is,i?i.call(e,(i=t,i==null||i===!1?i:i.index),0,o):l.call(e,"is",(i=t,i==null||i===!1?i:i.index),0,o));if(s||s===0)r+=s;return r+='">\n                <div class="cover-layout">\n                 <img src="'+a((i=(i=e&&e.starred,i==null||i===!1?i:i.cover),typeof i===u?i.apply(e):i))+'" alt="Book Cover">\n                </div>\n                <div class="carousel-caption">\n                <h3>',(s=n.bookTitle)?s=s.call(e,{hash:{},data:t}):(s=e&&e.bookTitle,s=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(s)+"</h3>\n                <p>by ",(s=n.authorTitle)?s=s.call(e,{hash:{},data:t}):(s=e&&e.authorTitle,s=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(s)+"</p>\n                </div>\n            </a>\n        ",r}function d(e,t){return" active "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this,l=n.helperMissing;s+='<div id="carousel-central-block" class="carousel slide">\n    <ol class="carousel-indicators">\n        ',o=n.each.call(t,t&&t.items,{hash:{},inverse:f.noop,fn:f.program(1,c,i),data:i});if(o||o===0)s+=o;s+='\n    </ol>\n\n    <div class="carousel-inner">\n        ',o=n.each.call(t,t&&t.items,{hash:{},inverse:f.noop,fn:f.program(4,p,i),data:i});if(o||o===0)s+=o;return s+='\n    </div>\n\n    <a class="left carousel-control" href="#carousel-central-block" data-slide="prev">\n        <span class="glyphicon glyphicon-chevron-left"></span>\n    </a>\n    <a class="right carousel-control" href="#carousel-central-block" data-slide="next">\n        <span class="glyphicon glyphicon-chevron-right"></span>\n    </a>\n</div>',s});return n}),define("modules/BooksList/View/Carousel",["marionette","hbs!templates/BooksList/carousel"],function(e,t){var n=e.ItemView.extend({template:t,templateHelpers:function(){var e={};return this.collection.length>0&&(e.activeSlide=Math.round(Math.random()*10)%this.collection.length),e},onRender:function(){var e=this.$el.find(".carousel");e.length&&(e.carousel({interval:4e3}),e.carousel("cycle"))}});return n}),define("modules/BooksList/Controller/Carousel",["marionette","modules/BooksList/View/Carousel","modules/app","bootstrap"],function(e,t){var n=e.Controller.extend({showCarousel:function(e,n){if(e.length){var r=new t({collection:e});n.show(r)}}});return n}),define("modules/BooksList/Controller/Main",["jquery","backbone","marionette","modules/BooksList/Layout/Books","modules/BooksList/Model/Book","modules/BooksList/Model/BooksCollection","modules/BooksList/View/BooksCollectionView","modules/BooksList/View/Filter","modules/BooksList/View/BookInfoView","modules/Common/View/Loading","modules/BooksList/View/MoreFromAuthorViews","modules/BooksList/Controller/Carousel","modules/app","jquery.scrollToFixed"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){var p=n.Controller.extend({initialize:function(){},showBooksList:function(){this._showBooksList({showCarousel:!0,booksLoadPromise:h.request("Books:getRecently")})},showFilteredList:function(e){var t=h.history.getParamsFromRequestString(e);this._showBooksList({showCarousel:!1,filterCriteria:t,booksLoadPromise:h.request("Books:getList",t)})},openBookInfo:function(e){var n=this,r=function(){},s=function(e){if(e){var s=new i(e),o=new a({model:s});o.on("navBack",function(){history.back()}),o.on("addToShopcart",n._addBookToShopcart);var u=function(){s.set("isInShopcart",!1)};h.shopcart.off("resetProducts",u),h.shopcart.on("resetProducts",u),h.contentRegion.show(o),o.moreFromAuthorRegion.show(new f({message:"Loading another books..."})),h.request("Books:getList",{authorId:e.authorId}).done(function(n){n=_.filter(n,function(t){return t.bookId!=e.bookId}),n.length?o.moreFromAuthorRegion.show(new l.View({collection:new t.Collection(n)})):o.moreFromAuthorRegion.show(new l.EmptyView)})}else r()};h.request("Books:getBook",parseInt(e)).done(s).fail(r)},showCarousel:function(e,t){var n=_.filter(e,function(e){return e.starred&&e.starred.inTop}),r=new c;n=_.shuffle(n),r.showCarousel(new s(n),t.centralCarouselRegion)},_showBooksList:function(n){var a=this,l=new r;l.render(),h.contentRegion.show(l);var c=function(t){var r=new s(t),u=new o({collection:r,document:e(document),window:e(window),loadMore:function(e,t,n){h.request("Books:getRecently").done(function(t){var n=[];_.each(t,function(e){n.push(new i(e))}),e(n)})}});l.listRegion.show(u),u.on("openBookInfo",function(e){h.history.navigate("/bookinfo/"+e,!0)}),u.on("addToShopcart",a._addBookToShopcart);var f=function(){r.each(function(e){e.set("isInShopcart",!1)})};h.shopcart.off("resetProducts",f),h.shopcart.on("resetProducts",f),n.showCarousel&&a.showCarousel(t,l)},p={};n.filterCriteria&&(p.model=new t.Model(n.filterCriteria));var d=new u(p);l.sideBlockRegion.show(d),d.on("submitFilters",function(e,t){_.size(e)&&h.history.navigate("filter/"+h.history.makeRequestStringFromParams(e),!0)}),d.on("resetFilters",function(){h.history.navigate("",!0)}),d.on("globalSearch",function(e){h.history.navigate("filter/globalSearch/"+e,!0)}),l.sideBlockRegion.$el.scrollToFixed({marginTop:95,zIndex:450,originalPosition:"static",dontSetWidth:!0}),n.booksLoadPromise&&(n.booksLoadPromise.state()!=="resolved"&&l.listRegion.show(new f({message:"Loading books list..."})),n.booksLoadPromise.done(c))},_addBookToShopcart:function(e,t){h.shopcart.addProduct({picture:t.cover.preview,info:{title:t.bookTitle,additional:"by "+t.authorTitle},price:t.price,bookOptions:{bookId:e}})}});return p.Router=n.AppRouter.extend({appRoutes:{"bookinfo/:id":"openBookInfo","filter/*flt":"showFilteredList","":"showBooksList"}}),p}),define("hbs!templates/BooksList/author/info",["hbs","hbs/handlebars"],function(e,t){var n=t.template(function(e,t,n,r,i){function c(e,t){var n="",r;return n+="\n                    "+f((r=(r=e&&e.dates,r==null||r===!1?r:r.birth),typeof r===a?r.apply(e):r))+" - "+f((r=(r=e&&e.dates,r==null||r===!1?r:r.death),typeof r===a?r.apply(e):r))+"\n                ",n}function h(e,t){var n="",r;return n+="\n                    Born: "+f((r=(r=e&&e.dates,r==null||r===!1?r:r.birth),typeof r===a?r.apply(e):r))+"\n                ",n}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers);var s="",o,u,a="function",f=this.escapeExpression,l=this;s+='<div class="author-info container">\n    <div class="nav-actions">\n        <a href="#" class="btn action-back btn-link"><span class="glyphicon glyphicon-arrow-left"></span>Back to books list</a>\n    </div>\n    <div class="titles clearfix">\n        <div class="line photo text-center col-md-4">\n            <img src="',(o=n.photo)?o=o.call(t,{hash:{}}):(o=t&&t.photo,o=typeof o===a?o.call(t,{hash:{}}):o),s+=f(o)+'" class="img-responsive img-thumbnail" />\n            <div class="book-action cover-actions">\n\n            </div>\n        </div>\n        <div class="line info col-md-8">\n            <div class="author-name"><h3>',(o=n.name)?o=o.call(t,{hash:{}}):(o=t&&t.name,o=typeof o===a?o.call(t,{hash:{}}):o),s+=f(o)+'</h3></div>\n            <div class="dates">\n                ',u=n["if"].call(t,(o=t&&t.dates,o==null||o===!1?o:o.death),{hash:{},inverse:l.program(3,h,i),fn:l.program(1,c,i)});if(u||u===0)s+=u;s+='\n            </div>\n            <div class="bio col-md-10">\n                <h4>Bio</h4>\n                <div class="text">\n                    <div class="text-wrapper clearfix">\n                    ',(u=n.bio)?u=u.call(t,{hash:{}}):(u=t&&t.bio,u=typeof u===a?u.call(t,{hash:{}}):u);if(u||u===0)s+=u;return s+='\n                    </div>\n                </div>\n                <div class="show-full-bio">\n                    <div class="gradient"></div>\n                    <div class="button">Show full bio</div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <h4>Books</h4>\n    <div class="author-books-region container">\n\n    </div>\n</div>',s});return n}),define("modules/BooksList/View/AuthorInfoView",["marionette","hbs!templates/BooksList/author/info"],function(e,t){var n=e.Layout.extend({template:t,regions:{authorBooksRegion:".author-books-region"},ui:{biographyText:".bio .text",showFullBio:".show-full-bio"},events:{"click .show-full-bio .button":"onShowFullBioClicked"},_collapseOptions:{maxHeight:260,swingDuration:400,collapsed:!1,fullTextHeight:null},onShow:function(){var e=this.ui.biographyText,t=e.get(0),n=t.scrollHeight;n>this._collapseOptions.maxHeight?(e.css("height",this._collapseOptions.maxHeight+"px"),this._collapseOptions.fullTextHeight=n,this._collapseOptions.collapsed=!0):(this.ui.showFullBio.hide(),this._collapseOptions.fullTextHeight=null,this._collapseOptions.collapsed=!1)},onShowFullBioClicked:function(){var e=this;this._collapseOptions.fullTextHeight!==null&&(this._collapseOptions.collapsed?this.ui.biographyText.animate({height:this._collapseOptions.fullTextHeight+"px"},this._collapseOptions.swingDuration,function(){e._collapseOptions.collapsed=!1,e.ui.showFullBio.hide()}):this.ui.biographyText.animate({height:this._collapseOptions.maxHeight+"px"},this._collapseOptions.swingDuration,function(){e._collapseOptions.collapsed=!0}))}});return n}),define("modules/BooksList/Controller/AuthorInfo",["marionette","backbone","modules/BooksList/View/AuthorInfoView","modules/BooksList/View/MoreFromAuthorViews","modules/Common/View/Loading","modules/app"],function(e,t,n,r,i,s){var o=e.Controller.extend({showAuthorInfo:function(e){s.contentRegion.show(new i({message:"Loading author info..."})),s.request("Authors:getInfo",parseInt(e)).done(function(i){if(i){var o=new n({model:new t.Model(i)});s.contentRegion.show(o),s.request("Books:getList",{authorId:e}).done(function(e){o.authorBooksRegion.show(new r.View({collection:new t.Collection(e)}))})}else s.contentRegion.close()})}});return o.Router=e.AppRouter.extend({appRoutes:{"author/:id":"showAuthorInfo"}}),o}),define("modules/BooksList/Service/Books",["modules/app","jquery"],function(e,t){var n=[{bookId:1,authorId:1,authorTitle:"Erich Maria Remarque",bookTitle:"All Quiet on the Western Front",publishYear:"1950",cover:{preview:"static/img/books/preview/m.book1.jpg",fullsize:"static/img/books/fullsize/book1.jpg"},userRating:4.8,price:"20 EUR",description:"Is a novel by Erich Maria Remarque, a German veteran of World War I. The book describes the German soldiers' extreme physical and mental stress during the war, and the detachment from civilian life felt by many of these soldiers upon returning home from the front. The novel was first published in November and December 1928 in the German newspaper Vossische Zeitung and in book form in late January 1929. The book and its sequel, The Road Back, were among the books banned and burned in Nazi Germany. It sold 2.5 million copies in 22 languages in its first eighteen months in print."},{bookId:2,authorId:1,authorTitle:"Erich Maria Remarque",bookTitle:"Arch of Triumph",publishYear:"1972",cover:{preview:"static/img/books/preview/m.book2.jpg",fullsize:"static/img/books/fullsize/book2.jpg"},userRating:4.2,price:"100 EUR",description:"It is 1939, and, despite having no permission to perform surgery, Ravic, a very accomplished German surgeon and a stateless refugee living in Paris, has been ghost-operating on patients for two years on the behalf of two less skillful French physicians. Unwilling to return to Nazi Germany, which has stripped him of his citizenship, and unable to legally exist anywhere else in pre-war western Europe, Ravic manages to hang on. He is one of many displaced persons without passports or any other documents, who live under a constant threat of being captured and deported from one country to the next, and back again. Though Ravic has given up on the possibility of love, life has a curious way of taking a turn for the romantic, even during the worst of times, as he cautiously befriends an actress."},{bookId:3,authorId:2,authorTitle:"George Orwell",bookTitle:"1984",publishYear:"2011",cover:{preview:"static/img/books/preview/m.book3-1.jpg",fullsize:"static/img/books/fullsize/book3-1.jpg"},price:"200 EUR",description:'Eighty-Four is a dystopian novel by George Orwell published in 1949. The novel is set in Airstrip One (formerly known as Great Britain), a province of the superstate Oceania in a world of perpetual war, omnipresent government surveillance, and public mind control, dictated by a political system euphemistically named English Socialism (or, in the government\'s invented language, Newspeak, called Ingsoc) under the control of a privileged Inner Party elite that persecutes all individualism and independent thinking as "thoughtcrimes".',starred:{inTop:!0,cover:"static/img/books/crop/book3-1-res.jpg"},userRating:4.9},{bookId:4,authorId:3,authorTitle:"Ray Bradbury",bookTitle:"Fahrenheit 451",publishYear:"2012",cover:{preview:"static/img/books/preview/m.book4.jpg",fullsize:"static/img/books/fullsize/book4.jpg"},description:"Fahrenheit 451 is a dystopian novel by Ray Bradbury published in 1953. It is regarded as one of his best works.The novel presents a future American society where books are outlawed and firemen burn any that are found. Fahrenheit 451 is a dystopian novel by Ray Bradbury published in 1953. It is regarded as one of his best works.The novel presents a future American society where books are outlawed and firemen burn any that are found. Fahrenheit 451 is a dystopian novel by Ray Bradbury published in 1953. It is regarded as one of his best works.The novel presents a future American society where books are outlawed and firemen burn any that are found. Fahrenheit 451 is a dystopian novel by Ray Bradbury published in 1953. It is regarded as one of his best works.The novel presents a future American society where books are outlawed and firemen burn any that are found",price:"50 EUR",userRating:4.9,starred:{inTop:!0,cover:"static/img/books/crop/book4-res.jpg"}},{bookId:5,authorId:4,authorTitle:"Aldous Huxley",bookTitle:"Brave New World",publishYear:"1973",userRating:4.9,cover:{preview:"static/img/books/preview/m.book5.jpg",fullsize:"static/img/books/fullsize/book5.jpg"},price:"60 EUR"},{bookId:6,authorId:5,authorTitle:"Herman Hesse",bookTitle:"Siddhartha",publishYear:"1973",userRating:3.2,cover:{preview:"static/img/books/preview/m.book6.jpg",fullsize:"static/img/books/fullsize/book6.jpg"},price:"60 EUR"},{bookId:7,authorId:6,authorTitle:"J. D. Salinger",bookTitle:"The Catcher in the Rye",publishYear:"1953",userRating:4.8,cover:{preview:"static/img/books/preview/m.book7.jpg",fullsize:"static/img/books/fullsize/book7.jpg"},price:"40 EUR",starred:{inTop:!0,cover:"static/img/books/crop/book7-res.jpg"}},{bookId:8,authorId:7,authorTitle:"J. R. R. Tolkien",bookTitle:"The Lord of the Rings",publishYear:"1963",userRating:4.7,cover:{preview:"static/img/books/preview/m.book8.jpg",fullsize:"static/img/books/fullsize/book8.jpg"},price:"50 EUR"},{bookId:9,authorId:7,authorTitle:"J. R. R. Tolkien",bookTitle:"Hobbit",publishYear:"1960",userRating:4.6,cover:{preview:"static/img/books/preview/m.book9.jpg",fullsize:"static/img/books/fullsize/book9.jpg"},price:"45 EUR",description:"The Hobbit, or There and Back Again, is a fantasy novel and children's book by English author J. R. R. Tolkien. It was published on 21 September 1937 to wide critical acclaim, being nominated for the Carnegie Medal and awarded a prize from the New York Herald Tribune for best juvenile fiction. The book remains popular and is recognized as a classic in children's literature."},{bookId:10,authorId:8,authorTitle:"F. Scott Fitzgerald",bookTitle:"The Great Gatsby",publishYear:"2008",userRating:3.1,cover:{preview:"static/img/books/preview/m.book10.jpg",fullsize:"static/img/books/fullsize/book10.jpg"},price:"45 EUR",description:"The Great Gatsby is a 1925 novel written by American author F. Scott Fitzgerald that follows a cast of characters living in the fictional town of West Egg on prosperous Long Island in the summer of 1922.",starred:{inTop:!0,cover:"static/img/books/crop/book10-res.jpg"}}],r=function(e,t){return _.filter(e,function(e){var n=!0;if(n&&t.authorId)return t.authorId==e.authorId;n&&t.author&&(n=(new RegExp(t.author,"i")).test(e.authorTitle)),n&&t.bookTitle&&(n=(new RegExp(t.bookTitle,"i")).test(e.bookTitle));if(n&&t.publishYear)if(t.publishYear.indexOf("-")!==-1){var r=t.publishYear.split("-");if(r.length==2){var i=parseInt(r[0].trim()),s=parseInt(r[1].trim());n=e.publishYear>=i&&e.publishYear<=s}}else n=e.publishYear==t.publishYear;return n})},i=function(t){var n=e.shopcart.products;if(n&&n.length){var r={};for(var i=0,s=n.length;i<s;++i)n[i].bookOptions&&n[i].bookOptions.bookId&&(r[n[i].bookOptions.bookId]=n[i]);for(var i=0,s=t.length;i<s;++i)t[i].bookId in r&&(t[i].isInShopcart=!0)}},s=function(){return parseFloat((Math.random()*2).toFixed(2))*100},o={getRecently:function(){var e=new t.Deferred;return setTimeout(function(){var t=n.slice(0);i(t),e.resolve(t)},s()),e.promise()},getList:function(e){var o=new t.Deferred;return setTimeout(function(){var t=r(n.slice(0),e);i(t),o.resolve(t)},s()),o.promise()},getBook:function(e){var r=new t.Deferred;return setTimeout(function(){var t=_.findWhere(n.slice(0),{bookId:e});i([t]),r.resolve(t)},200),r.promise()}};return e.reqres.setHandlers({"Books:getRecently":o.getRecently,"Books:getList":o.getList,"Books:getBook":o.getBook,"Books:getWishList":o.getRecently,"Books:getFavorites":o.getRecently}),o}),define("modules/BooksList/Service/Authors",["modules/app","jquery"],function(e,t){var n=[{authorId:1,name:"Erich Maria Remarque",photo:"static/img/authors/1.jpg",dates:{birth:"22 June 1898",death:"25 September 1970"},bio:"<p>Born Erich Paul Remark, was a German author who authored many works, with his best-known novel being All Quiet on the Western Front.Erich Maria Remarque was born on 22 June 1898 into a working class family in the German city of Osnabrück to Peter Franz Remark (b. 14 June 1867, Kaiserswerth) and Anna Maria (née Stallknecht; born 21 November 1871, Katernberg).</p><p>During World War I, Remarque was conscripted into the army at the age of 18. On 12 June 1917, he was transferred to the Western Front, 2nd Company, Reserves, Field Depot of the 2nd Guards Reserve Division at Hem-Lenglet. On 26 June, he was posted to the 15th Reserve Infantry Regiment, 2nd Company, Engineer Platoon Bethe, and was stationed between Torhout and Houthulst. On 31 July, he was wounded by shrapnel in the left leg, right arm and neck, and was repatriated to an army hospital in Germany where he spent the rest of the war.</p><p>After the war he continued his teacher training and worked from 1 August 1919 as a primary school teacher in Lohne, at that time in the county of Lingen, now in the county of Bentheim. From May 1920 he worked in Klein Berßen in the former County of Hümmling, now Emsland, and from August 1920 in Nahne, which has been a part of Osnabrück since 1972. On 20 November 1920 he applied for leave of absence from teaching, bringingthis period of his life to an end.</p><p>Erich worked at a number of different jobs, including librarian, businessman, teacher, journalist and editor. His first paid writing job was as a technical writer for the Continental Rubber Company, a German tire manufacturer.</p><p>At the age of 16, Remarque had made his first attempts at writing; this included essays, poems, and the beginnings of a novel that was finished later and published in 1920 as The Dream Room (Die Traumbude). When he published All Quiet on the Western Front, Remarque changed his middle name in memory of his mother and reverted to the earlier spelling of the family name to dissociate himself from his novel Die Traumbude. The original family name, Remarque, had been changed to Remark by his grandfather in the 19th century. In 1927, Remarque made a second literary start with the novel Station at the Horizon (Station am Horizont), which was serialised in the sports journal \"Sport im Bild\" for which Remarque was working. It was published in book form only in 1998. His best-known work, All Quiet on the Western Front (Im Westen nichts Neues), was written in a few months in 1927, but Remarque was not immediately able to find a publisher. The novel, published in 1929, described the experiences of German soldiers during World War I. A number of similar works followed; in simple, emotive language they described wartime and the postwar years. In 1931, after finishing The Road Back (Der Weg zurück), Remarque bought a villa in Porto Ronco, Switzerland, planning to live both there and in France. His next novel, Three Comrades (Drei Kameraden), spans the years of the Weimar Republic, from the hyperinflation of 1923 to the end of the decade. Remarque's fourth novel, Flotsam (in German titled Liebe deinen Nächsten, or Love Thy Neighbour), first appeared in a serial version in English translation in Collier's magazine in 1939, and Remarque spent another year revising the text for its book publication in 1941, both in English and German. His next novel, Arch of Triumph, first published in 1945 in English, and the next year in German as Arc de Triomphe, was another instant best-seller and reached worldwide sales of nearly five million.</p>"},{authorId:2,name:"George Orwell",photo:"static/img/authors/2.jpg",dates:{birth:"25 June 1903",death:"21 January 1950"},bio:'Was an English novelist, essayist, journalist and critic. His work is marked by lucid prose, awareness of social injustice, opposition to totalitarianism, and commitment to democratic socialism. Commonly ranked as one of the most influential English writers of the 20th century and as one of the most important chroniclers of English culture of his generation, Orwell wrote literary criticism, poetry, fiction and polemical journalism. He is best known for the dystopian novel Nineteen Eighty-Four (1949) and the allegorical novella Animal Farm (1945). His book Homage to Catalonia (1938), an account of his experiences in the Spanish Civil War, is widely acclaimed, as are his numerous essays on politics, literature, language, and culture. In 2008, The Times ranked him second on a list of "The 50 greatest British writers since 1945". Orwell\'s work continues to influence popular and political culture, and the term Orwellian — descriptive of totalitarian or authoritarian social practices — has entered the language together with several of his neologisms, including cold war, Big Brother, thought police, Room 101, doublethink, and thoughtcrime.'},{authorId:3,name:"Ray Bradbury",photo:"static/img/authors/3.jpg",dates:{birth:"August 22, 1920 ",death:"June 5, 2012"},bio:"Ray Bradbury was an American fantasy and horror author who rejected being categorized as a science fiction author, claiming that his work was based on the fantastical and unreal. His best known novel is Fahrenheit 451, a dystopian study of future American society in which critical thought is outlawed. He is also remembered for several other popular works, including The Martian Chronicles and Something Wicked This Way Comes. Bradbury won the Pulitzer in 2004, and is one of the most celebrated authors of the 21st century. He died in Los Angeles on June 5, 2012, at the age of 91."},{authorId:4,name:"Aldous Huxley",photo:"static/img/authors/4.jpg",dates:{birth:"1894",death:"1963"},bio:"Aldous Huxley was born July 26, 1894, in Godalming, England. He published his first book in 1916 and worked on the periodical Athenaeum 1919–1921. Thereafter he devoted himself largely to his own writing and spent much of his time in Italy until the late 1930s, when he settled in California. He established himself as a major author in his first two published novels, Crome Yellow and Antic Hay."},{authorId:5,name:"Hermann Hesse ",photo:"static/img/authors/5.jpg",dates:{birth:"1877",death:"1962"},bio:"Born on July 2, 1877, in Calw, Germany, Hermann Hesse published his debut novel in 1904, Peter Camenzind. Focusing on characters' quests for actualization in a world that imposes conformity, Hesse won eventual acclaim with other books like Beneath the Wheel, Siddhartha and Steppenwolf. Adopting Swizz citizenship, he also won the 1946 Nobel Prize in Literature. He died on August 9, 1962."},{authorId:6,name:"J.D. Salinger",photo:"static/img/authors/6.jpg",dates:{birth:"1919",death:"2010"},bio:"Born on January 1, 1919, in New York, J.D. Salinger was a literary giant despite his slim body of work and reclusive lifestyle. His landmark novel, The Catcher in the Rye, set a new course for literature in post-WWII America and vaulted Salinger to the heights of literary fame. In 1953, Salinger moved from New York City and led a secluded life, only publishing one new story before his death."},{authorId:7,name:"J.R.R. Tolkien ",photo:"static/img/authors/7.jpg",dates:{birth:"1892",death:"1973"},bio:"Born on January 3, 1892, in Bloemfontein, South Africa, J.R.R. Tolkien settled in England as a child, going on to study at Exeter College. While teaching at Oxford University, he published the popular fantasy novels The Hobbit and the Lord of the Rings trilogy. The works have had a devoted international fan base and been adapted into award-winning blockbuster films. Tolkien died in 1973 at 81."}],r=function(){return parseFloat((Math.random()*2).toFixed(2))*1e3},i={getAuthorInfo:function(e){var i=new t.Deferred;return setTimeout(function(){var t=_.findWhere(n,{authorId:e});i.resolve(t)},r()),i.promise()}};return e.reqres.setHandlers({"Authors:getInfo":i.getAuthorInfo}),i}),define("modules/BooksList/Module",["marionette","modules/BooksList/Controller/Main","modules/BooksList/Controller/AuthorInfo","modules/app","modules/BooksList/Service/Books","modules/BooksList/Service/Authors"],function(e,t,n,r){var i=[t,n];r.module("BooksList",function(e){_.each(i,function(e){var t=new e;e.Router&&(t.routerInstance=new e.Router({controller:t}))})})});