define("modules/Common/UserSession",["backbone","underscore"],function(e,t){var n=function(){this.userData=null};return n.prototype={auth:function(e,t){return this.userData={login:e,username:e},this.trigger("successAuth",this.userData,this),!0},quit:function(){var e=this.userData;this.userData=null,this.trigger("successQuit",e,this)}},t.extend(n.prototype,e.Events),n}),define("modules/Common/Shopcart",["backbone","underscore"],function(e,t){var n=function(){this.products=[]};return n.prototype={addProduct:function(e){this.products.push(e),this.trigger("addProduct",e,this)},removeProduct:function(e){if(e<this.products.length){var t=this.products[e];delete this.products[e],this.trigger("removeProduct",t,e,this)}},reset:function(){this.trigger("resetProducts",this.products),this.products=[]}},t.extend(n.prototype,e.Events),n}),define("modules/Common/History",["marionette","backbone","underscore"],function(e,t,n){var r=function(){};return r.prototype={navigate:function(e,n){n||(n={}),t.history.navigate(e,n)},getCurrentRoute:function(){return t.history.fragment},back:function(){history.back()},forward:function(){history.forward()},getParamsFromRequestString:function(e,t){var n=e.split("/");if(t)return n;var r={};for(var i=0,s=n.length;i<s;i+=2)r[n[i]]=i+1<s?n[i+1]:undefined;return r},makeRequestStringFromParams:function(e){var t=[];return n.each(e,function(e,n){t.push(n),t.push(e)}),t.join("/")}},n.extend(r.prototype,t.Events),r}),define("modules/app",["jquery","underscore","backbone","marionette","modules/Common/UserSession","modules/Common/Shopcart","modules/Common/History"],function(e,t,n,r,i,s,o){var u=new r.Application;return u.addRegions({headerRegion:"#header",footerRegion:"#footer",contentRegion:"#content"}),u.on("initialize:before",function(e){this.userSession=new i,this.shopcart=new s,this.history=new o}),u.on("initialize:after",function(e){n.history&&n.history.start()}),u});